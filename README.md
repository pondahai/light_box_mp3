# UNO Light Box 控制器

這是一個基於 Arduino UNO 的 LED 燈條控制器專案，主要用於控制 WS2812 LED 燈條並整合音樂播放器控制功能。

## 硬體需求

- Arduino UNO 或相容板
- WS2812 LED 燈條（70顆 LED）
- 按鈕開關 x2（音量控制）
- 檢測感應器（用於偵測插入狀態）

## 接線說明

- LED 燈條數據線 -> Pin 3
- 音量增加按鈕 -> Pin 2
- 音量減少按鈕 -> Pin 4
- 檢測感應器 -> Pin 5
- 狀態輸入 -> Pin 7
- 狀態指示 LED -> Pin 13（板載 LED）
- 控制輸出 -> Pin 10, 11, 12

## 功能特點

1. LED 燈效控制
   - 支援漸變效果
   - 可調整亮度
   - 預設蒂芙尼藍色主題

2. 音樂播放控制
   - 自動播放/停止功能
   - 音量漸進式調整
   - 最大音量限制保護

3. 狀態指示
   - LED 狀態指示
   - 序列埠監控輸出

## 主要功能

### 檢測開關（Pin 5）
設備配備了一個檢測開關，用於自動控制播放狀態：

1. 插入檢測
   - 當檢測開關觸發（HIGH）時：
     * 系統會自動開始播放
     * LED 燈條會從蒂芙尼藍漸變為紅色
     * 音量會逐步提升到設定值

2. 移除檢測
   - 當檢測開關釋放（LOW）時：
     * 系統會自動停止播放
     * LED 燈條會從紅色漸變為綠色
     * 音量會逐步降低至零

3. 防誤觸設計
   - 插入檢測需等待 3 秒才會觸發播放
   - 移除檢測需等待 4 秒才會觸發停止
   - 這個延遲機制可以有效防止誤觸和抖動

## 特殊操作說明

### 按鈕控制
- VOL+ 按鈕：增加最大音量限制
- VOL- 按鈕：降低最大音量限制

### 序列埠指令
- 'p'：播放/暫停
- 'w'：音量增加（長按）
- 's'：音量減少（長按）
- 'a'：音量增加（短按）
- 'd'：音量減少（短按）

## 特殊功能

1. 防彈跳處理
   - 設定 2000ms 的防彈跳時間
   - 3000ms 無變化自動停止

2. LED 燈效
   - 播放時紅色漸變效果
   - 停止時綠色漸變效果
   - 可調整整體亮度（預設 50/255）

## 開發環境

- Platform IO
- Arduino 框架
- 依賴庫：
  - Adafruit_NeoPixel
